<!--
  ~  Copyright 2016 Ripple Foundation C.I.C. Ltd
  ~  
  ~  Licensed under the Apache License, Version 2.0 (the "License");
  ~  you may not use this file except in compliance with the License.
  ~  You may obtain a copy of the License at
  ~  
  ~    http://www.apache.org/licenses/LICENSE-2.0

  ~  Unless required by applicable law or agreed to in writing, software
  ~  distributed under the License is distributed on an "AS IS" BASIS,
  ~  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~  See the License for the specific language governing permissions and
  ~  limitations under the License.
  -->
<div class="modal-header">
    <h4 class="modal-title">Spine Lookup</h4>
</div>

<div class="modal-body">
  <form class="form-inline">
    <fieldset>
      <legend>Patient details</legend>
      <div class="form-group">
        <label for="firstname" class="control-label">First Name</label>
        <input ng-model="firstname" type="text" class="form-control" id="firstname">
      </div>
      <div class="form-group">
        <label for="lastname" class="control-label">Last Name</label>
        <input ng-model="lastname" type="text" class="form-control" id="lastname">
      </div>
      <button type="submit" class="btn btn-success" ng-disabled="searching" ng-click="search(firstname, lastname)">Search</button>

      <div class="spinner" ng-show="searching">
        <div class="spinner-container container1">
          <div class="circle1"></div>
          <div class="circle2"></div>
          <div class="circle3"></div>
          <div class="circle4"></div>
        </div>
        <div class="spinner-container container2">
          <div class="circle1"></div>
          <div class="circle2"></div>
          <div class="circle3"></div>
          <div class="circle4"></div>
        </div>
        <div class="spinner-container container3">
          <div class="circle1"></div>
          <div class="circle2"></div>
          <div class="circle3"></div>
          <div class="circle4"></div>
        </div>
      </div>
    </fieldset>
  </form>

  <hr />

  <table class="table table-striped table-bordered table-hover rwd-table">
    <thead>
      <tr>
        <th>Name</th>
        <th>Address</th>
        <th></th>
      </tr>
    </thead>

    <tbody>
      <tr ng-repeat="patient in patients | orderBy:'firstname'">
        <td data-th="Full Name">{{ patient.fullname() }}</td>
        <td data-th="Address">{{ patient.address }}</td>
        <td data-th="" width="120" class="text-center"><button class="btn btn-success btn-xs" ng-click="create(patient)"><i class="fa fa-plus"></i> Save</button></td>
      </tr>

      <tr ng-if="!patients.length">
        <td colspan="3"><span class="label label-default">No patients</span></td>
      </tr>
    </tbody>
  </table>
</div>

<div class="modal-footer">
    <a class="btn btn-danger" ng-click="dismiss()">Close</a>
</div>
